---
title: "Ecotypes"
author: "Joe Thorley and Ayla Pearson"
date: "`r Sys.Date()`"
bibliography: bibliography.bib
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Ecotypes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 4
)
```

## Ecotypes

In the ypr package a population can consist of more than one *ecotype*.
A population is considered to be group of panmictic fish that are indistinguishable to anglers while ecotypes are considered to be subsets of a population that follow alternative life-history strategies.
Consequently, ecotypes in the same population must share the key stock recruitment (`BH`, `RK`, `tR` and `Rmax`) and fishery (`pi`, `Llo`, `Lup`, `Nc`, `rho`, `Hm` and `q`) parameters.
In order to use a yield-per-recruit approach it is also necessary to assume that the relative proportion of recruits adopting each life-history strategy which is specified by `RPR` is independent of the parental stock.

## Two Ecotypes

Consider a population with a small, fast-growing, early-maturing ecotype and a large, slow-growing late-maturing ecotype.

```{r}
library(ypr)
library(ggplot2) # for plotting

population <- ypr_ecotypes(
  Linf = c(200, 600), 
  k = c(0.2, 0.1), 
  Ls = c(150, 400), 
  names = c("small", "large"))

ypr_plot_schedule(population) + scale_color_manual(values = c("black", "blue"))
ypr_tabulate_schedule(population)
```

### Fish

```{r, fig.width=6, fig.height=4}
#ypr_plot_fish(population, color = "white")
ypr_tabulate_fish(population)
```

### Stock-Recruitment

```{r, fig.width=6, fig.height=4}
#ypr_plot_sr(population)
ypr_tabulate_sr(population)
```

### Yield

```{r, fig.width=6, fig.height=4}
#ypr_tabulate_yield(population)
#ypr_plot_yield(population)
```

